{"id":"4add9632-b02b-4ef2-b20d-a630234e6ea5","revision":0,"last_node_id":80,"last_link_id":336,"nodes":[{"id":58,"type":"NunchakuTextEncoderLoaderV2","pos":[120.54224395751953,50.35527038574219],"size":[317.0367126464844,130],"flags":{},"order":0,"mode":0,"inputs":[{"localized_name":"model_type","name":"model_type","type":"COMBO","widget":{"name":"model_type"},"link":null},{"localized_name":"text_encoder1","name":"text_encoder1","type":"COMBO","widget":{"name":"text_encoder1"},"link":null},{"localized_name":"text_encoder2","name":"text_encoder2","type":"COMBO","widget":{"name":"text_encoder2"},"link":null},{"localized_name":"t5_min_length","name":"t5_min_length","type":"INT","widget":{"name":"t5_min_length"},"link":null}],"outputs":[{"localized_name":"CLIP","name":"CLIP","type":"CLIP","links":[122,123]}],"properties":{"Node name for S&R":"NunchakuTextEncoderLoaderV2","widget_ue_connectable":{}},"widgets_values":["flux.1","clip_l.safetensors","awq-int4-flux.1-t5xxl.safetensors",512]},{"id":56,"type":"NunchakuFluxDiTLoader","pos":[598.8186645507812,385.2861328125],"size":[301.57464599609375,202],"flags":{},"order":1,"mode":0,"inputs":[{"localized_name":"model_path","name":"model_path","type":"COMBO","widget":{"name":"model_path"},"link":null},{"localized_name":"cache_threshold","name":"cache_threshold","type":"FLOAT","widget":{"name":"cache_threshold"},"link":null},{"localized_name":"attention","name":"attention","type":"COMBO","widget":{"name":"attention"},"link":null},{"localized_name":"cpu_offload","name":"cpu_offload","type":"COMBO","widget":{"name":"cpu_offload"},"link":null},{"localized_name":"device_id","name":"device_id","type":"INT","widget":{"name":"device_id"},"link":null},{"localized_name":"data_type","name":"data_type","type":"COMBO","widget":{"name":"data_type"},"link":null},{"localized_name":"i2f_mode","name":"i2f_mode","shape":7,"type":"COMBO","widget":{"name":"i2f_mode"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","links":[120]}],"properties":{"Node name for S&R":"NunchakuFluxDiTLoader","widget_ue_connectable":{}},"widgets_values":["717nuchaku\\svdq-fp4_r32-flux.1-fill-dev.safetensors",0,"nunchaku-fp16","auto",0,"bfloat16","enabled"]},{"id":3,"type":"KSampler","pos":[1374.6016845703125,93.41598510742188],"size":[315,474],"flags":{},"order":14,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":258},{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":77},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":78},{"localized_name":"latent_image","name":"latent_image","type":"LATENT","link":88},{"localized_name":"seed","name":"seed","type":"INT","widget":{"name":"seed"},"link":null},{"localized_name":"steps","name":"steps","type":"INT","widget":{"name":"steps"},"link":null},{"localized_name":"cfg","name":"cfg","type":"FLOAT","widget":{"name":"cfg"},"link":null},{"localized_name":"sampler_name","name":"sampler_name","type":"COMBO","widget":{"name":"sampler_name"},"link":null},{"localized_name":"scheduler","name":"scheduler","type":"COMBO","widget":{"name":"scheduler"},"link":null},{"localized_name":"denoise","name":"denoise","type":"FLOAT","widget":{"name":"denoise"},"link":null}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","slot_index":0,"links":[7]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.44","Node name for S&R":"KSampler","widget_ue_connectable":{}},"widgets_values":[252616749929149,"randomize",24,1,"euler","normal",1]},{"id":60,"type":"Anything Everywhere","pos":[948.0675659179688,575.1683349609375],"size":[172.18905639648438,26],"flags":{},"order":8,"mode":0,"inputs":[{"color_on":"#FF6E6E","label":"VAE","localized_name":"anything","name":"anything","shape":7,"type":"*","link":124}],"outputs":[],"properties":{"cnr_id":"cg-use-everywhere","ver":"6.2.2","Node name for S&R":"Anything Everywhere","group_restricted":0,"color_restricted":0,"widget_ue_connectable":{}},"widgets_values":[]},{"id":39,"type":"DifferentialDiffusion","pos":[923.3316650390625,373.9674377441406],"size":[277.20001220703125,26],"flags":{"collapsed":false},"order":7,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":120}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","slot_index":0,"links":[258]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.44","Node name for S&R":"DifferentialDiffusion","widget_ue_connectable":{}},"widgets_values":[]},{"id":38,"type":"InpaintModelConditioning","pos":[997.977783203125,95.48262023925781],"size":[302.3999938964844,138],"flags":{"collapsed":false},"order":13,"mode":0,"inputs":[{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":126},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":128},{"localized_name":"vae","name":"vae","type":"VAE","link":null},{"localized_name":"pixels","name":"pixels","type":"IMAGE","link":107},{"localized_name":"mask","name":"mask","type":"MASK","link":108},{"localized_name":"noise_mask","name":"noise_mask","type":"BOOLEAN","widget":{"name":"noise_mask"},"link":null}],"outputs":[{"localized_name":"positive","name":"positive","type":"CONDITIONING","slot_index":0,"links":[77]},{"localized_name":"negative","name":"negative","type":"CONDITIONING","slot_index":1,"links":[78]},{"localized_name":"latent","name":"latent","type":"LATENT","slot_index":2,"links":[88]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.44","Node name for S&R":"InpaintModelConditioning","widget_ue_connectable":{}},"widgets_values":[false]},{"id":61,"type":"FluxGuidance","pos":[728.0288696289062,5.129147529602051],"size":[270,58],"flags":{},"order":10,"mode":0,"inputs":[{"localized_name":"conditioning","name":"conditioning","type":"CONDITIONING","link":125},{"localized_name":"guidance","name":"guidance","type":"FLOAT","widget":{"name":"guidance"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","links":[126]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.44","Node name for S&R":"FluxGuidance","widget_ue_connectable":{}},"widgets_values":[2.5]},{"id":62,"type":"ConditioningZeroOut","pos":[763.31689453125,114.28758239746094],"size":[197.712890625,26],"flags":{},"order":11,"mode":0,"inputs":[{"localized_name":"conditioning","name":"conditioning","type":"CONDITIONING","link":127}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","links":[128]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.44","Node name for S&R":"ConditioningZeroOut","widget_ue_connectable":{}},"widgets_values":[]},{"id":79,"type":"PreviewImage","pos":[537.5310668945312,666.40771484375],"size":[328.66668701171875,507.33331298828125],"flags":{},"order":12,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":330}],"outputs":[],"title":"Preview Image某节点预处理后图像","properties":{"cnr_id":"comfy-core","ver":"0.3.45","widget_ue_connectable":{},"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":76,"type":"ImageBatchLoader","pos":[214.71286010742188,251.86070251464844],"size":[270,310],"flags":{},"order":2,"mode":0,"inputs":[{"localized_name":"directory","name":"directory","type":"STRING","widget":{"name":"directory"},"link":null},{"localized_name":"search_title","name":"search_title","type":"STRING","widget":{"name":"search_title"},"link":null},{"localized_name":"delimiter","name":"delimiter","type":"STRING","widget":{"name":"delimiter"},"link":null},{"localized_name":"mode","name":"mode","type":"COMBO","widget":{"name":"mode"},"link":null},{"localized_name":"seed","name":"seed","type":"INT","widget":{"name":"seed"},"link":null},{"localized_name":"filename_option","name":"filename_option","type":"COMBO","widget":{"name":"filename_option"},"link":null},{"localized_name":"image_list","name":"image_list","type":"BOOLEAN","widget":{"name":"image_list"},"link":null},{"localized_name":"subfolder","name":"subfolder","type":"BOOLEAN","widget":{"name":"subfolder"},"link":null}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","links":[]},{"localized_name":"filename","name":"filename","type":"STRING","links":null},{"localized_name":"image_count","name":"image_count","type":"STRING","links":null},{"localized_name":"image_list","name":"image_list","shape":6,"type":"IMAGE","links":null}],"properties":{"Node name for S&R":"ImageBatchLoader","widget_ue_connectable":{}},"widgets_values":["O:\\CMS\\ComfyUI\\input\\pasted","","","incremental_image",23,"increment","filename",false,false]},{"id":17,"type":"LoadImage","pos":[193.7433624267578,649.4268798828125],"size":[315.2304992675781,522.600830078125],"flags":{},"order":4,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"choose file to upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[313]},{"localized_name":"MASK","name":"MASK","type":"MASK","slot_index":1,"links":[]}],"title":"Load Image原图像","properties":{"cnr_id":"comfy-core","ver":"0.3.44","Node name for S&R":"LoadImage","widget_ue_connectable":{}},"widgets_values":["3 (2).png","image"]},{"id":53,"type":"CLIPTextEncode","pos":[455.9797668457031,147.28550720214844],"size":[422.8500061035156,164.30999755859375],"flags":{"collapsed":true},"order":6,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":123},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[127]}],"title":"CLIP Text Encode (Positive Prompt)","properties":{"cnr_id":"comfy-core","ver":"0.3.44","Node name for S&R":"CLIPTextEncode","widget_ue_connectable":{}},"widgets_values":[""],"color":"#232","bgcolor":"#353"},{"id":23,"type":"CLIPTextEncode","pos":[464.6538391113281,75.08401489257812],"size":[422.8500061035156,164.30999755859375],"flags":{"collapsed":true},"order":5,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":122},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[125]}],"title":"CLIP Text Encode (Positive Prompt)","properties":{"cnr_id":"comfy-core","ver":"0.3.44","Node name for S&R":"CLIPTextEncode","widget_ue_connectable":{}},"widgets_values":["Redraw the mask without changing the original image, and remove all watermarks and text"],"color":"#232","bgcolor":"#353"},{"id":8,"type":"VAEDecode","pos":[1763.9014892578125,94.3633804321289],"size":[210,46],"flags":{},"order":15,"mode":0,"inputs":[{"localized_name":"samples","name":"samples","type":"LATENT","link":7},{"localized_name":"vae","name":"vae","type":"VAE","link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[244]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.44","Node name for S&R":"VAEDecode","widget_ue_connectable":{}},"widgets_values":[]},{"id":68,"type":"ImageCompositeMasked","pos":[1767.82763671875,209.19351196289062],"size":[270,146],"flags":{},"order":16,"mode":0,"inputs":[{"localized_name":"destination","name":"destination","type":"IMAGE","link":242},{"localized_name":"source","name":"source","type":"IMAGE","link":244},{"localized_name":"mask","name":"mask","shape":7,"type":"MASK","link":243},{"localized_name":"x","name":"x","type":"INT","widget":{"name":"x"},"link":null},{"localized_name":"y","name":"y","type":"INT","widget":{"name":"y"},"link":null},{"localized_name":"resize_source","name":"resize_source","type":"BOOLEAN","widget":{"name":"resize_source"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[264,334]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.44","Node name for S&R":"ImageCompositeMasked","widget_ue_connectable":{}},"widgets_values":[0,0,false]},{"id":49,"type":"PadImageForOutpaintingSimplified","pos":[556.890380859375,211.28817749023438],"size":[337.2369079589844,122],"flags":{},"order":9,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":313},{"localized_name":"mask_opt","name":"mask_opt","shape":7,"type":"MASK","link":null},{"localized_name":"feather","name":"feather","type":"INT","widget":{"name":"feather"},"link":null},{"localized_name":"max_pixels","name":"max_pixels","type":"INT","widget":{"name":"max_pixels"},"link":null}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","links":[107,242,330,333]},{"localized_name":"outpaint_mask","name":"outpaint_mask","type":"MASK","links":[108,243]},{"localized_name":"processed_mask","name":"processed_mask","type":"MASK","links":null}],"properties":{"Node name for S&R":"PadImageForOutpaintingSimplified","widget_ue_connectable":{}},"widgets_values":[0,1000000],"color":"#332922","bgcolor":"#593930"},{"id":80,"type":"Image Compare (🐺)","pos":[1201.0302734375,673.8728637695312],"size":[550.3820190429688,386.2000427246094],"flags":{},"order":18,"mode":0,"inputs":[{"localized_name":"image_a","name":"image_a","shape":7,"type":"IMAGE","link":333},{"localized_name":"image_b","name":"image_b","shape":7,"type":"IMAGE","link":334}],"outputs":[],"title":"Image Compare (🐺)对比","properties":{"aux_id":"rakki194/ComfyUI-ImageCompare","ver":"472b4615cdb8b69605768b72f0db9ac08e5f213e","widget_ue_connectable":{},"Node name for S&R":"Image Compare (🐺)","comparer_mode":"Slide"},"color":"#432","bgcolor":"#653"},{"id":78,"type":"SaveImage","pos":[888.6005859375,661.153076171875],"size":[298.2333068847656,502.3200378417969],"flags":{},"order":17,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":264},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null}],"outputs":[],"title":"Save Image（kontext补后图像）","properties":{"cnr_id":"comfy-core","ver":"0.3.44","Node name for S&R":"SaveImage","widget_ue_connectable":{}},"widgets_values":["ComfyUI"],"color":"#332922","bgcolor":"#593930"},{"id":59,"type":"VAELoader","pos":[933.4558715820312,463.1487731933594],"size":[270,58],"flags":{},"order":3,"mode":0,"inputs":[{"localized_name":"vae_name","name":"vae_name","type":"COMBO","widget":{"name":"vae_name"},"link":null}],"outputs":[{"localized_name":"VAE","name":"VAE","type":"VAE","links":[124]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.44","Node name for S&R":"VAELoader","widget_ue_connectable":{}},"widgets_values":["ae.safetensors"]}],"links":[[7,3,0,8,0,"LATENT"],[77,38,0,3,1,"CONDITIONING"],[78,38,1,3,2,"CONDITIONING"],[88,38,2,3,3,"LATENT"],[107,49,0,38,3,"IMAGE"],[108,49,1,38,4,"MASK"],[120,56,0,39,0,"MODEL"],[122,58,0,23,0,"CLIP"],[123,58,0,53,0,"CLIP"],[124,59,0,60,0,"VAE"],[125,23,0,61,0,"CONDITIONING"],[126,61,0,38,0,"CONDITIONING"],[127,53,0,62,0,"CONDITIONING"],[128,62,0,38,1,"CONDITIONING"],[242,49,0,68,0,"IMAGE"],[243,49,1,68,2,"MASK"],[244,8,0,68,1,"IMAGE"],[258,39,0,3,0,"MODEL"],[264,68,0,78,0,"IMAGE"],[313,17,0,49,0,"IMAGE"],[330,49,0,79,0,"IMAGE"],[333,49,0,80,0,"IMAGE"],[334,68,0,80,1,"IMAGE"]],"groups":[],"config":{},"extra":{"ds":{"scale":0.7513148009015779,"offset":[175.45895019022151,136.38396582688586]},"ue_links":[{"downstream":38,"downstream_slot":2,"upstream":"59","upstream_slot":0,"controller":60,"type":"VAE"},{"downstream":8,"downstream_slot":1,"upstream":"59","upstream_slot":0,"controller":60,"type":"VAE"}],"links_added_by_ue":[335,336]},"version":0.4}